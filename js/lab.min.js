!function(a,b,c){"function"==typeof define&&define.amd?define(c):b[a]=c(a,b)}("$LAB",this,function(e,a){"use strict";var f=a.$LAB,b=function(){},c=b;a.console&&a.console.log&&(a.console.error||(a.console.error=a.console.log),b=function(b){a.console.log(b)},c=function(b,c){a.console.error(b,c)});var g=document.getElementsByTagName("link"),h="AlwaysPreserveOrder",i="Debug",j="BasePath",d=/^[^?#]*\//.exec(location.href)[0],k=/^[\w\-]+\:\/\/\/?[^\/]+/.exec(d)[0];document.head;var l=function(){var a=document.createElement("link").relList;try{if(a&&a.supports)return a.supports("preload")}catch(b){}return!1}(),m=!0===document.createElement("script").async,n=a.performance&&a.performance.getEntriesByName;return s();function o(a){if("script"==a.type||"module"==a.type){var b=document.createElement("script");b.setAttribute("src",a.src),b.setAttribute("data-requested-with","LABjs"),b.async=!1,"module"==a.type&&b.setAttribute("type","module")}return a.opts,document.head.appendChild(b),a.loadRequested=!0,b}function p(a){setTimeout(function(){throw a},0)}function q(a,b){for(var c in b)a[c]=b[c];return a}function r(a,c){var b=/^[\w\-]+:\/\/\/?/;return/^\/\/\/?/.test(a)?a=location.protocol+a:b.test(a)||"/"==a[0]||(a=(c||"")+a),b.test(a)||(a="/"==a[0]?k+a:d+a),a}function s(){var e={},b={};b[h]=!1,b.CacheBust=!1,b[i]=!1,b[j]="",n&&function(){for(var b=0;b<g.length;b++)!function(c){if(c&&/\bpreload\b/i.test(c.getAttribute("rel"))&&c.getAttribute("as")){var b=c.getAttribute("href");b=r(b,document.baseURI);var f=a.performance.getEntriesByName(b);if(!(b in e)){var d=new t(null,b);d.preloadRequested=!0,e[b]=d,f.length>0?d.preloaded=!0:c.addEventListener("load",function a(){c.removeEventListener("load",a),d.preloaded=!0,u(d)})}}}(g[b])}();var d={setGlobalDefaults:function(a){return b=q(b,a),d},setOptions:function(){return v().setOptions.apply(null,arguments)},script:function(){return v().script.apply(null,arguments)},wait:function(){return v().wait.apply(null,arguments)},sandbox:s,noConflict:function(){return a.$LAB=f,d}};return d;function k(a){this.isGroup=!0,this.resources=[],this.ready=!1,this.complete=!1,this.check=a||function(){}}function t(a,b){this.type=a,this.src=b,this.listeners=[],this.preloadRequested=!1,this.preloaded=!1,this.loadRequested=!1,this.complete=!1,this.opts=null}function u(c){for(var b=[],a=0;a<c.listeners.length;a++)~b.indexOf(c.listeners[a].group)||b.push(c.listeners[a].group);for(var a=0;a<b.length;a++)b[a].check()}function v(){var d,f=q({},b),g=[],a={setOptions:function(b){return f=q(f,b),a},script:function(){for(var b=0;b<arguments.length;b++)n("script",arguments[b]);return v(),a},wait:function(){if(arguments.length>0)for(var b=0;b<arguments.length;b++)s(arguments[b]);else s(!0);return v(),a}};return a;function n(o,b){if(0==g.length||!g[g.length-1].isGroup||g[g.length-1].complete|| !l&&!m||f[h]&&!m){var q=new k(v);g.push(q)}var a,c,n=g[g.length-1];n.complete=!1,b="string"==typeof b?{type:o,src:r(b,f[j]),group:n}:{type:o,src:r(b.src,f[j]),opts:b,group:n},n.resources.push(b);var p=((a=b).src in e||(e[a.src]=new t(a.type,a.src)),(c=e[a.src]).type||(c.type=a.type),c.opts||(c.opts=a.opts),~c.listeners.indexOf(a)||c.listeners.push(a),c);if(l&&!p.preloadRequested){var i,d,s=(i=p,(d=document.createElement("link")).setAttribute("href",i.src),("script"==i.type||"module"==i.type)&&d.setAttribute("as","script"),d.setAttribute("rel","preload"),d.setAttribute("data-requested-with","LABjs"),document.head.appendChild(d),i.preloadRequested=!0,d);s.addEventListener("load",function a(){s.removeEventListener("load",a),s.parentNode.removeChild(s),p.preloaded=!0,u(p)})}}function s(b){if(0==g.length){var a=new k;a.ready=a.complete=!0,g.push(a)}g.push({wait:b})}function v(){null==d&&(d=setTimeout(w,0))}function w(){d=null;for(var a=0;a<g.length;a++)if(!g[a].complete)if(g[a].isGroup){if(x(g[a]),!g[a].complete)break}else if("function"==typeof g[a].wait)try{g[a].wait(),g[a].complete=!0}catch(b){f[i]?p(b):c(b);break}else g[a].complete=!0}function x(a){if(!a.ready&&!a.complete)if(l){for(var c=!0,b=0;b<a.resources.length;b++)if(!e[a.resources[b].src].preloaded){c=!1;break}a.ready=c}else a.ready=!0;if(!a.complete&&a.ready){for(var d=!0,b=0;b<a.resources.length;b++)!function(b){var a=e[b.src];if(a.loadRequested)if(a.complete)return;else d=!1,~a.listeners.indexOf(b)||a.listeners.push(b);else{var c=o(a);c.addEventListener("load",function b(){c.removeEventListener("load",b),a.complete=!0,u(a)}),d=!1}}(a.resources[b]);d&&(a.complete=!0)}}}}})